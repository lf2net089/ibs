<div style="display: flex; align-items: flex-start;">
  <app-invoice-details [selectedRowData]="selectedRowData"></app-invoice-details>

  <div style="flex: 1; margin-left: 20px;">
    <div class="p-field" style="margin-bottom: 20px; display: flex; align-items: center;">
      <label for="cancellationCode" style="margin-right: 10px; min-width: 100px;"><strong>選取作廢代碼</strong></label>
      <p-dropdown [options]="cancellationCodes" [(ngModel)]="selectedCancellationCode" placeholder="Select a Code" [style]="{flex: '1'}"></p-dropdown>
    </div>
    <div class="p-field" style="margin-bottom: 20px; display: flex; align-items: center;">
      <label for="remarks" style="margin-right: 10px; min-width: 100px;"><strong>作廢備註</strong></label>
      <textarea id="remarks" pInputTextarea [(ngModel)]="cancellationRemarks" [style]="{flex: '1', height: '120px', resize: 'none'}"></textarea>
    </div>
  </div>
</div>

<div class="p-field">
  <label for="fileUpload"><strong>作廢證明檔附件</strong></label>
  <p-fileUpload name="demo[]" url="https://www.primefaces.org/cdn/api/upload.php"
                (onUpload)="onUpload($event)"
                [multiple]="true"
                accept="image/*"
                maxFileSize="1000000">
    <ng-template pTemplate="content">
      <ul *ngIf="uploadedFiles.length">
        <li *ngFor="let file of uploadedFiles">
          {{ file.name }} - {{ file.size }} bytes
        </li>
      </ul>
    </ng-template>
  </p-fileUpload>
</div>

<div class="p-dialog-footer" style="display: flex; justify-content: flex-end; gap: 10px;">
  <p-button label="取消" icon="pi pi-times" class="p-button-secondary" (click)="cancel()"></p-button>
  <p-button label="確認" icon="pi pi-check" (click)="confirm()"></p-button>
  <p-confirmDialog></p-confirmDialog>
</div>
